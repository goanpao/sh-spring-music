language: java
jdk: oraclejdk8
before_install:
- chmod +x gradlew
before_deploy:
- chmod ugo+x deploy.sh
script:
- "./gradlew wrapper"
- "./gradlew clean build"
- "./gradlew warNoStatic warCopy zipGetVersion zipStatic"
- sh ./deploy_travisci.sh
env:
  global:
  - GH_REF: github.com/goanpao/sh-spring-music.git
  - secure: OlPCPGy6G8cqviEWoz8xu10QTjP6rr4X3425ynYBuq6uWT179PCkb436MgmSf8XlC8ewnEhZrFD5Tyhk1Krfha2+zbdztMVzSI+4VB3mIbSBNkAh0VCoGjLN/U+/oC3a0tv3sSozV3IZfuSasJtruUURDGV7a+2Hj8LSD/97lndsfhdfIsXcbOiZrVq9hmxwqk2vaRFXslXM/nikO3Yr+qY32WFt6YOt79OM2k+Qrb65vAM2EKbuhs3duumyzVJoDLWiMWYcBFCkc1iQRyjYH2uOHZz+IgUgXfvKbuOFlWpDUcpK7JEufZ/vySdPHLDg3RQ+IQJWxBzE3cQ1qgvSGH30Vry4hQBqwYaeJjrTNjnvsfiqRC80E5oQd3TEygQfRPN7xR1xecICii3HVoSAQd+hpkFCfGV/D4onPHJ09/Ys4qNcQfTAZyux9L8JzyWixlaMWVD30Gb0T1eOqsh6WDJGndEeBf0Yotgo1bGJVzDVnGtBCOzf4DWvpV4hYU67tndY501tQ+LaNe0CTgEO09pAnT9mfuISRktib+Emma9xGwZqbTT7HHRquPTNQz7wGpvfMqXxiHcdLlO6oXFQQR5pDieytjnMfOFQGDpJTsF8It3p1L2QwZR4PEfZSJlmeW3EJJpOd22m4CbTRvVAPn5lC/Z53tScnnPwoz+isOw=
  - secure: usxvGPIO+9Quv2O46+gEuepn3R8mJLBL7k+Th63cd+7ypoZh0Pf+sPafDf8kYeBGgWol4VFmFmEeVf5E3edZg+vkBAktPRgMFkkh6GqqeyCfn+JGnshqyJBKDojNGyyranAwmECkDjmfpZvrWokepnUjuEEcI7YRVjYt53J1RsnFodahxsl6bcIyx9zr8R22t3wTQnDs1hKV8aPM3bYNbfyKMw65pxuihww56M7HogbyIcaAp+T/KgarBFJZ5PfFgDVenW6VD2J6EV9zeCVNIIj/9aQ1Dt/arpqhI7QhYtaQLzeR76qsCfLw3Em18rjLOuKp4y07eMxGtI6RAVdD3eWG+Yi96wzYvPgZmDg74tAfwy6DebMBtdtm9uv6adnlv2bCjP0iSgexcTtESF9zmhgMg1HBVCjVSbMVnJZ/l8cii9aOttWkkF9u0nTg1orDv3nTaeXFio4PyiX6iaZzyuNpwdyXaAaXqHygWhwRzj/DGgu8Wu5Ks7KeYqWv23tjY92qQWkzriYrcpDunbp9FxOX3WJbwm4nvrvnLp7O9AZqeR0gb8MrUcedJR7rQsf1dp/fRUEMVU2nI6ofxp9RuWB0BQbYv6j1H4LjKcp70CWg5R6W3Kyij9MDGxCBgP/jupOdapyrtNekobmAZcRuq3ddteXEpBC+U2Sq2WXTVEI=
notifications:
  slack:
    secure: SLOh6b3+nfj59miuYYIAG1b3Ahd+ZzJ+6fDE7l1xatJIF6fjSNk1FoVJxDCoamFRP1wDJK5CU6bx3G3tjk18U23+9faLW6m/uVnYtdgP9gqEB+2UkvgcX25ZkOPHtf3OWmJ+FOt+u2OmzITwIzVMWXlSNHVynfMBs9VrNIUkS0yp4IEJ040RgGyX6aVH49cURX0mVwjKy96QK6iC+YOeeZbtRP8RST3yphHQMwRcSBAITPNPDsWkyqokYyxAqxDmD3equGyX73xfWDiwnmlpsCxZDLqX0K0SHazK1mkJw6JVSfGqFUO80GswxOa1kXWgz8XAa7o5kcg5JdaFgSaPwSAmKw4kzGr5K3INLIdU+v7oGdJXsl6dPIYGp09U4enegz4o6RXTu3TA1s9jCm3spyUpDzEv5e/YDocRNqzCTb2IfCPhtOz8/xj6IgHkn/n/wJz8Leyn0o7fK0+VBE8dg7MZ8dzFlWS9I2sInxci6lMKxoM7CWh0eLQZ8jkirlKpmjnKu9faYm8BA5MUwoy1j45ODFvznuHWIGcUczqQLy+hK1vxLMT2xJzNIdOyuVWu9Jv5Jt+MEP1aGtoLwGGaahQAwWqs4Zoq1VE4FNxLVi4yE2Lrk5pKjluccXDZwjNCyVNTaVR5Rf1PKI+EjukqLVfBl8PzDWqZ++286X0jLy4=
